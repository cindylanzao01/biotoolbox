<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>get_actual_nuc_sizes.pl</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:_postfix@neige.apple.com" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>
<!--

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>

-->


</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>get_actual_nuc_sizes.pl</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
  get_actual_nuc_sizes.pl --in &lt;file1.txt&gt; --bam &lt;file2.bam&gt; [--options]
  
  Options:
  --in &lt;filename&gt;
  --bam &lt;filename.bam&gt;
  --min &lt;integer&gt;
  --max &lt;integer&gt;
  --win &lt;integer&gt;
  --at
  --gff
  --type &lt;gff_type&gt;
  --source &lt;gff_source&gt;
  --out &lt;filename&gt;
  --help</pre>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>The command line flags and descriptions:</p>
<dl>
<dt><strong><a name="in_filename" class="item">--in &lt;filename&gt;</a></strong></dt>

<dd>
<p>Specify the file name of a nucleosome data file generated by the script 
<strong>map_nucleosomes.pl</strong>. Other data files will likely not work.</p>
</dd>
<dt><strong><a name="bam_filename" class="item">--bam &lt;filename&gt;</a></strong></dt>

<dd>
<p>Specify the file name of a binary BAM file containing the original 
paired-end sequence alignment pairs representing nucleosome fragments. 
The file should be sorted and indexed.</p>
</dd>
<dt><strong><a name="min_integer" class="item">--min &lt;integer&gt;</a></strong></dt>

<dd>
<p>Optionally specify the minimum size of fragment to include when determing 
fragment lengths.</p>
</dd>
<dt><strong><a name="max_integer" class="item">--max &lt;integer&gt;</a></strong></dt>

<dd>
<p>Optionally specify the maximum size of fragment to include when determing 
fragment lengths.</p>
</dd>
<dt><strong><a name="win_integer" class="item">--win &lt;integer&gt;</a></strong></dt>

<dd>
<p>Optionally specify the window size when searching for corresponding 
sequence alignment pairs. The window is determined as the mapped nucleosome 
midpoint +/- the specified value. The default value is the calculated 
fuzziness value determined when mapping the nucleosome.</p>
</dd>
<dt><strong><a name="at" class="item">--at</a></strong></dt>

<dd>
<p>Boolean option to indicate that only fragments whose paired sequence reads 
end in a [AT] nucleotide should be included in the output GFF file. 
Micrococcal nuclease (MNase) cuts (almost?) exclusively at AT dinucleotides; 
this option ensures that the fragment is more likely derived from a MNase 
cut. Default is false where all fragments are taken.</p>
</dd>
<dt><strong><a name="gff" class="item">--gff</a></strong></dt>

<dd>
<p>Indicate whether a GFF file should be written in addition to the standard 
text data file. The GFF file version is 3. Default is false (no GFF written).</p>
</dd>
<dt><strong><a name="type_gff_type" class="item">--type &lt;gff_type&gt;</a></strong></dt>

<dd>
<p>Provide the text to be used as the GFF type (or method) used in 
writing the GFF file. The default value is the Sequence Ontology term 
'histone_binding_site'.</p>
</dd>
<dt><strong><a name="source_gff_source" class="item">--source &lt;gff_source&gt;</a></strong></dt>

<dd>
<p>Provide the text to be used as the GFF source used in writing the 
GFF file. The default value is the name of this program.</p>
</dd>
<dt><strong><a name="out_filename" class="item">--out &lt;filename&gt;</a></strong></dt>

<dd>
<p>Provide a new output file name. By default it overwrites the input file.</p>
</dd>
<dt><strong><a name="help" class="item">--help</a></strong></dt>

<dd>
<p>Display the POD documentation</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This program will determine actual nucleosome fragment sizes based on the 
original paired-end sequence alignments. It searches a BAM file for all 
aligned read-pairs whose midpoints are within a specific window centered 
around the midpoint of a mapped nucleosome. The program accepts as input 
data the mapped nucleosomes identified using the script <strong>map_nucleosomes.pl</strong>. 
The window size may be specified explicitly, or by default it uses the 
fuzziness value identified in the mapping program. Once the read-pairs are 
identified, then the mean length of all fragments is determined. The nucleosme 
start and stop coordinates are then updated to accurately reflect the real 
length. The midpoint coordinate is not updated, nor is it checked for 
accuracy; it is assumed to be accurately mapped.</p>
<p>In addition to updating the start and stop coordinates, three additional 
columns of data are appended to the data table. These include the count of 
sequence read-pair fragments, and the standard deviation of the fragment 
lengths. In addition to writing a new data file, it can optionally write 
a GFF3 file.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<pre>
 Timothy J. Parnell, PhD
 Howard Hughes Medical Institute
 Dept of Oncological Sciences
 Huntsman Cancer Institute
 University of Utah
 Salt Lake City, UT, 84112</pre>
<p>This package is free software; you can redistribute it and/or modify
it under the terms of the GPL (either version 1, or at your option,
any later version) or the Artistic License 2.0.</p>

</body>

</html>
